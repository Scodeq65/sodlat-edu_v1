{% extends 'base.html' %}

{% block title %}Teacher Dashboard{% endblock %}

{% block content %}
<h1>Teacher Dashboard</h1>
<p>Welcome, {{ current_user.username }}!</p>

<!-- Course Creation Form -->
<h2>Create New Course</h2>
<form method="POST" action="{{ url_for('main.teacher_dashboard') }}" class="form-group">
    {{ course_form.hidden_tag() }}
    <div class="form-group">
        {{ course_form.name.label(class="form-label") }}
        {{ course_form.name(class="form-control") }}
        {% if course_form.name.errors %}
            {% for error in course_form.name.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div>
        <input type="submit" value="Create Course" class="btn btn-primary">
    </div>
</form>

<!-- Assignment Creation Form -->
<h2>Create New Assignment</h2>
<form method="POST" action="{{ url_for('main.teacher_dashboard') }}" class="form-group">
    {{ assignment_form.hidden_tag() }}
    <div class="form-group">
        {{ assignment_form.title.label(class="form-label") }}
        {{ assignment_form.title(class="form-control") }}
        {% if assignment_form.title.errors %}
            {% for error in assignment_form.title.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ assignment_form.content.label(class="form-label") }}
        {{ assignment_form.content(class="form-control", rows=5) }}
        {% if assignment_form.content.errors %}
            {% for error in assignment_form.content.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ assignment_form.due_date.label(class="form-label") }}
        {{ assignment_form.due_date(class="form-control") }}
        {% if assignment_form.due_date.errors %}
            {% for error in assignment_form.due_date.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ assignment_form.course_id.label(class="form-label") }}
        {{ assignment_form.course_id(class="form-control") }}
        {% if assignment_form.course_id.errors %}
            {% for error in assignment_form.course_id.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div>
        <input type="submit" value="Create Assignment" class="btn btn-primary">
    </div>
</form>

<!-- Progress Creation Form -->
<h2>Record Progress</h2>
<form method="POST" action="{{ url_for('main.teacher_dashboard') }}" class="form-group">
    {{ progress_form.hidden_tag() }}
    <div class="form-group">
        {{ progress_form.student_name.label(class="form-label") }}
        {{ progress_form.student_name(class="form-control") }}
        {% if progress_form.student_name.errors %}
            {% for error in progress_form.student_name.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ progress_form.course.label(class="form-label") }}
        {{ progress_form.course(class="form-control") }}
        {% if progress_form.course.errors %}
            {% for error in progress_form.course.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ progress_form.grade.label(class="form-label") }}
        {{ progress_form.grade(class="form-control") }}
        {% if progress_form.grade.errors %}
            {% for error in progress_form.grade.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ progress_form.days_present.label(class="form-label") }}
        {{ progress_form.days_present(class="form-control") }}
        {% if progress_form.days_present.errors %}
            {% for error in progress_form.days_present.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ progress_form.days_absent.label(class="form-label") }}
        {{ progress_form.days_absent(class="form-control") }}
        {% if progress_form.days_absent.errors %}
            {% for error in progress_form.days_absent.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ progress_form.overall_performance.label(class="form-label") }}
        {{ progress_form.overall_performance(class="form-control", rows=5) }}
        {% if progress_form.overall_performance.errors %}
            {% for error in progress_form.overall_performance.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div>
        <input type="submit" value="Record Progress" class="btn btn-primary">
    </div>
</form>

<!-- User Update Form -->
<h2>Update User Information</h2>
<form method="POST" action="{{ url_for('main.teacher_dashboard') }}" class="form-group">
    {{ user_form.hidden_tag() }}
    <div class="form-group">
        {{ user_form.username.label(class="form-label") }}
        {{ user_form.username(class="form-control") }}
        {% if user_form.username.errors %}
            {% for error in user_form.username.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ user_form.email.label(class="form-label") }}
        {{ user_form.email(class="form-control") }}
        {% if user_form.email.errors %}
            {% for error in user_form.email.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ user_form.password.label(class="form-label") }}
        {{ user_form.password(class="form-control") }}
        {% if user_form.password.errors %}
            {% for error in user_form.password.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ user_form.role.label(class="form-label") }}
        {{ user_form.role(class="form-control") }}
        {% if user_form.role.errors %}
            {% for error in user_form.role.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div>
        <input type="submit" value="Update User" class="btn btn-primary">
    </div>
</form>

{% endblock %}