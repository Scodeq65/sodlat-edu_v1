{% extends "base.html" %}

{% block title %}Teacher Dashboard{% endblock %}

{% block content %}
<h1>Teacher Dashboard</h1>
<p>Welcome, {{ current_user.username }}!</p>

<!-- Manage Assignments -->
<h2>Create Assignment</h2>
<form method="POST" action="{{ url_for('main.teacher_dashboard') }}">
    {{ assignment_form.hidden_tag() }}
    <div class="form-group">
        {{ assignment_form.title.label(class="form-label") }}
        {{ assignment_form.title(class="form-control") }}
    </div>
    <div class="form-group">
        {{ assignment_form.course_id.label(class="form-label") }}
        {{ assignment_form.course_id(class="form-control") }}
    </div>
    <div class="form-group">
        {{ assignment_form.due_date.label(class="form-label") }}
        {{ assignment_form.due_date(class="form-control", type="date") }}
    </div>
    <div>
        <button type="submit" class="btn btn-primary">Create Assignment</button>
    </div>
</form>

<!-- Manage Users -->
<h2>Update User Information</h2>
<form method="POST" action="{{ url_for('main.update_user') }}">
    {{ user_form.hidden_tag() }}
    <div class="form-group">
        {{ user_form.username.label(class="form-label") }}
        {{ user_form.username(class="form-control") }}
    </div>
    <div class="form-group">
        {{ user_form.email.label(class="form-label") }}
        {{ user_form.email(class="form-control") }}
    </div>
    <div class="form-group">
        {{ user_form.role.label(class="form-label") }}
        {{ user_form.role(class="form-control") }}
    </div>
    <div>
        <button type="submit" class="btn btn-primary">Update User</button>
    </div>
</form>

<!-- Record Student Progress -->
<h2>Record Student Progress</h2>
<form method="POST" action="{{ url_for('main.record_progress') }}">
    {{ progress_form.hidden_tag() }}
    <div class="form-group">
        {{ progress_form.student_name.label(class="form-label") }}
        {{ progress_form.student_name(class="form-control") }}
        {% if progress_form.student_name.errors %}
            {% for error in progress_form.student_name.errors %}
                <small class="form-text text-danger">{{ error }}</small>
            {% endfor %}
        {% endif %}
    </div>
    <div class="form-group">
        {{ progress_form.course.label(class="form-label") }}
        {{ progress_form.course(class="form-control") }}
    </div>
    <div class="form-group">
        {{ progress_form.grade.label(class="form-label") }}
        {{ progress_form.grade(class="form-control") }}
    </div>
    <div class="form-group">
        {{ progress_form.days_present.label(class="form-label") }}
        {{ progress_form.days_present(class="form-control") }}
    </div>
    <div class="form-group">
        {{ progress_form.days_absent.label(class="form-label") }}
        {{ progress_form.days_absent(class="form-control") }}
    </div>
    <div class="form-group">
        {{ progress_form.overall_performance.label(class="form-label") }}
        {{ progress_form.overall_performance(class="form-control") }}
    </div>
    <div>
        <button type="submit" class="btn btn-primary">Record Progress</button>
    </div>
</form>
{% endblock %}
